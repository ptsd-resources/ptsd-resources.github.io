<html lang="en"
      ng-app="myApp"
      ng-controller="myCtrl">

<head>

	<!-- Page styles -->
	<link href='assets/index.css' rel='stylesheet' type='text/css'/>

	<!-- Vendor scripts -->
	<script src="assets/lib/jquery.min.js"></script>
	<script src="assets/lib/jquery-deparam.js"></script>
	<script src="assets/lib/underscore-min.js"></script>
	<script src="assets/lib/angular-1.7.min.js"></script>
	<script src="assets/lib/angular-sanitize-1.7.9.js"></script>

	<!-- Page scripts -->
	<script src='assets/urlparams.js' type='text/javascript'></script>
	<script src='assets/index.js' type='text/javascript'></script>

</head>

<!-- The sidebar -->
<div class="sidebar">
	<a href="/"
	   ng-click="loadPageView(undefined)"
	   ng-class="{selected: (currPage===null)}"
	   >
		<h1>ptsd resources</h1>
	</a>
	<p class="footnote">
	everyone's needs are different. take what you find helpful, leave what you don't.
	</p>
	<hr>
	<div ng-repeat="pageId in orderedPageIds"
			 ng-init="page=pages[pageId]">
		<h3 ng-if="page.items === undefined">{[page.title]}</h3>
		<a ng-if="page.items !== undefined"
		   href="#{[page.id]}"
		   ng-click="loadPageView(page.id)"
		   ng-class="{selected: page.isSelected}"
		   >{[page.title]}</a>
	</div>
</div>

<!-- Page content -->
<div class="content">

	<!-- Index page -->
	<div ng-if="currPage.id === undefined"
		 class="index-content">
		<div class="pageItem">
			<h3>what's this?</h3>
			<p>I am not professionally certified, trained, or licensed in any way regarding matters of trauma, therapy, or psychology. I'm just a layperson working hard on my own baggage, and one of my top coping mechanisms happens to be compulsively reading, collating, and applying as many resources as I can find.</p>
			<p>Unless otherwise noted, I have read and personally benefitted from all self-help resources provided.</p>
			<p>I hope you find this useful for your own journey!</p>
		</div>
		<div class="pageItem footnote">
			This site is a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means to earn fees by linking to Amazon.com and affiliated sites.
		</div>
	</div>

	<!-- Current page head -->
	<div ng-if="currPage.id !== undefined"
			 class="pageHead">
		{[currPage.title]}
	</div>

	<!-- Current page content -->
  	<div ng-repeat="itemId in currPage.items"
			 ng-init="item=resources[itemId]"
			 class="pageItem">
		<div ng-if="item.href !== undefined">
			<a href="{[item.href]}"
				 ng-if="item.image !== undefined"
				 target="_blank">
				<img src="{[item.image]}"/>
			</a>
			<h3 ng-if="item.title">
				<a href="{[item.href]}"
					 target="_blank"
				   ng-bind-html="item.title">{[item.title]}</a>
			</h3>
		</div>
		<div ng-if="item.href === undefined">
			<img src="{[item.image]}"
					 ng-if="item.image !== undefined" />
			<h3 ng-bind-html="item.title"
					ng-if="item.title"></h3>
		</div>
		<p ng-bind-html="item.body"
		   ng-if="item.body !== undefined"></p>
	</div>
</div>

</html>
